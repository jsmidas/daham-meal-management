<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>í˜‘ë ¥ì—…ì²´ ê´€ë¦¬ - ê¸‰ì‹ê´€ë¦¬ ì‹œìŠ¤í…œ v3.0</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', Arial, sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            text-align: center;
            padding: 0 20px 30px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .sidebar-header h2 {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .sidebar-header p {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            color: white;
            border-left-color: rgba(255,255,255,0.5);
        }

        .nav-item.active {
            background: rgba(255,255,255,0.15);
            color: white;
            border-left-color: white;
        }

        .nav-item .icon {
            margin-right: 12px;
            font-size: 16px;
        }

        .nav-divider {
            height: 1px;
            background: rgba(255,255,255,0.2);
            margin: 20px 0;
        }

        .logout-item {
            color: rgba(255,255,255,0.6);
            margin-top: 20px;
        }

        .logout-item:hover {
            color: #ff6b6b;
            background: rgba(255,107,107,0.1);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            background: #f5f7fa;
            min-height: 100vh;
        }

        .content-header {
            background: white;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .content-header h1 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 28px;
            font-weight: 600;
        }

        .content-header p {
            margin: 0;
            color: #666;
            font-size: 16px;
        }

        /* Main Container */
        .main-container {
            padding: 0 30px 30px;
            width: 100%;
            max-width: none;
        }

        /* Control Panel */
        .control-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .control-panel h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .control-panel h2 i {
            color: #F5881F;
            font-size: 28px;
        }

        .control-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-weight: 500;
            color: #555;
            white-space: nowrap;
        }

        .form-input, .form-select {
            padding: 10px 15px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #F5881F;
            box-shadow: 0 0 0 3px rgba(245, 136, 31, 0.1);
            transform: translateY(-1px);
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #F5881F 0%, #E67309 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 136, 31, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 136, 31, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3);
        }

        .btn-info:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(23, 162, 184, 0.4);
        }

        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .stat-title {
            font-size: 16px;
            font-weight: 600;
            color: #555;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: white;
        }

        .stat-icon.suppliers { background: linear-gradient(135deg, #F5881F, #E67309); }
        .stat-icon.active { background: linear-gradient(135deg, #28a745, #20c997); }
        .stat-icon.products { background: linear-gradient(135deg, #6f42c1, #e83e8c); }
        .stat-icon.sites { background: linear-gradient(135deg, #17a2b8, #fd7e14); }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #6c757d;
        }

        /* Data Table */
        .table-container {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            overflow: hidden;
            width: 100%;
        }

        .table-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 20px 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .table-info {
            font-size: 14px;
            opacity: 0.9;
        }

        .table-scroll {
            overflow-x: auto;
            max-width: 100%;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 100%;
        }

        .data-table th {
            background: #f8f9fa;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            color: #495057;
            border-bottom: 2px solid #dee2e6;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table td {
            padding: 15px 12px;
            border-bottom: 1px solid #dee2e6;
            font-size: 14px;
            vertical-align: middle;
        }

        .data-table tr:hover {
            background-color: rgba(245, 136, 31, 0.05);
        }

        /* Status Badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
            min-width: 70px;
            display: inline-block;
        }

        .status-active {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-inactive {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Company Scale Tags */
        .scale-tag {
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .scale-large { background: #e3f2fd; color: #1565c0; }
        .scale-medium { background: #f3e5f5; color: #7b1fa2; }
        .scale-small { background: #e8f5e8; color: #2e7d32; }

        /* Action Buttons */
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            margin: 0 2px;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #ffc107;
            color: #212529;
        }

        .btn-edit:hover {
            background: #e0a800;
            transform: scale(1.05);
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-delete:hover {
            background: #c82333;
            transform: scale(1.05);
        }

        .btn-locations {
            background: #6f42c1;
            color: white;
        }

        .btn-locations:hover {
            background: #5a32a3;
            transform: scale(1.05);
        }

        .btn-products {
            background: #fd7e14;
            color: white;
        }

        .btn-products:hover {
            background: #e8690b;
            transform: scale(1.05);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .control-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .data-table {
                font-size: 12px;
            }
            
            .data-table th,
            .data-table td {
                padding: 8px 6px;
            }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            color: #dee2e6;
        }

        .empty-state h3 {
            margin-bottom: 10px;
            color: #495057;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 15px 15px 0 0;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .supplier-modal {
            width: 750px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-actions {
            padding: 20px 25px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-cancel {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }

        .btn-cancel:hover {
            background: #e9ecef;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* ë‚©í’ˆì²˜ ê´€ë¦¬ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .location-modal {
            width: 900px;
            max-height: 80vh;
        }

        .product-modal {
            width: 900px;
            max-height: 80vh;
        }

        .location-management,
        .product-management {
            padding: 0;
        }

        .location-tabs,
        .product-tabs {
            display: flex;
            border-bottom: 2px solid #f1f3f4;
            background: #f8f9fa;
            margin: 0;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-btn:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-btn.active {
            background: white;
            border-bottom-color: #667eea;
            color: #667eea;
        }

        .tab-content {
            display: none;
            padding: 25px;
        }

        .tab-content.active {
            display: block;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
        }

        .locations-grid,
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .location-card,
        .product-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: all 0.3s ease;
        }

        .location-card:hover,
        .product-card:hover {
            border-color: #667eea;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .location-info,
        .product-info {
            flex: 1;
        }

        .location-info h5,
        .product-info h5 {
            margin: 0 0 8px 0;
            color: #333;
            font-size: 16px;
        }

        .location-info p,
        .product-info p {
            margin: 4px 0;
            font-size: 13px;
            color: #666;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
            min-width: auto;
        }

        .loading,
        .no-data {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
            grid-column: 1 / -1;
        }
    </style>
    <script src="config.js"></script>
    <script src="static/js/branding.js"></script>
</head>
<body>
    <!-- Top Navigation -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ê´€ë¦¬ì ì‹œìŠ¤í…œ</h2>
                <p>í…ŒìŠ¤íŠ¸ ê¸‰ì‹ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
            </div>
            
            <div class="nav-menu">
                <a href="/admin" class="nav-item">
                    <span class="icon">ğŸ“Š</span>ëŒ€ì‹œë³´ë“œ
                </a>
                <a href="/admin/users" class="nav-item">
                    <span class="icon">ğŸ‘¥</span>ì‚¬ìš©ì ê´€ë¦¬
                </a>
                <a href="/admin/suppliers" class="nav-item active">
                    <span class="icon">ğŸš›</span>í˜‘ë ¥ì—…ì²´ ê´€ë¦¬
                </a>
                <a href="/admin/business-locations" class="nav-item">
                    <span class="icon">ğŸ¢</span>ì‚¬ì—…ì¥ ê´€ë¦¬
                </a>
                <a href="/menu_recipe_management.html" class="nav-item">
                    <span class="icon">ğŸ½ï¸</span>ë©”ë‰´ ê´€ë¦¬
                </a>
                <a href="/admin/meal-plans" class="nav-item">
                    <span class="icon">ğŸ”</span>ì‹ë‹¨ê°€ ê´€ë¦¬
                </a>
                <a href="/ingredients-management" class="nav-item">
                    <span class="icon">ğŸ¥¬</span>ì‹ìì¬ ê´€ë¦¬
                </a>
                <a href="/admin/system" class="nav-item">
                    <span class="icon">âš™ï¸</span>ì‹œìŠ¤í…œ ì„¤ì •
                </a>
                <a href="/admin/logs" class="nav-item">
                    <span class="icon">ğŸ“‹</span>ë¡œê·¸ ê´€ë¦¬
                </a>
                <div class="nav-divider"></div>
                <a href="/dashboard.html" class="nav-item">
                    <span class="icon">ğŸ½ï¸</span>ê¸‰ì‹ê´€ë¦¬ë¡œ ì´ë™
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <div class="content-header">
                <h1><i class="fas fa-truck"></i> í˜‘ë ¥ì—…ì²´ ê´€ë¦¬</h1>
                <p>í˜‘ë ¥ì—…ì²´ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ê³  ì‚¬ì—…ì¥ê³¼ì˜ ë§¤í•‘ì„ ì„¤ì •í•©ë‹ˆë‹¤</p>
            </div>

            <!-- Main Container -->
            <div class="main-container">
        <!-- Control Panel -->
        <div class="control-panel">
            <h2>
                <i class="fas fa-truck"></i>
                í˜‘ë ¥ì—…ì²´ ê´€ë¦¬
            </h2>
            
            <div class="control-row">
                <div class="control-group">
                    <label>ê²€ìƒ‰:</label>
                    <input type="text" class="form-input" id="searchInput" placeholder="ì—…ì²´ëª…, ëª¨ì½”ë“œ, ëŒ€í‘œìëª…ìœ¼ë¡œ ê²€ìƒ‰..." style="width: 250px;">
                </div>
                
                <div class="control-group">
                    <label>íšŒì‚¬ê·œëª¨:</label>
                    <select class="form-select" id="scaleFilter">
                        <option value="">ì „ì²´ ê·œëª¨</option>
                        <option value="ëŒ€ê¸°ì—…">ëŒ€ê¸°ì—…</option>
                        <option value="ì¤‘ê²¬ê¸°ì—…">ì¤‘ê²¬ê¸°ì—…</option>
                        <option value="ì¤‘ì†Œê¸°ì—…">ì¤‘ì†Œê¸°ì—…</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>ìƒíƒœ:</label>
                    <select class="form-select" id="statusFilter">
                        <option value="">ì „ì²´ ìƒíƒœ</option>
                        <option value="active">ê±°ë˜ì¤‘</option>
                        <option value="inactive">ê±°ë˜ì¤‘ë‹¨</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="searchSuppliers()">
                    <i class="fas fa-search"></i> ê²€ìƒ‰
                </button>
                
                <button class="btn btn-success" onclick="addSupplier()">
                    <i class="fas fa-plus"></i> ìƒˆ ì—…ì²´ ì¶”ê°€
                </button>
                
                <button class="btn btn-info" onclick="exportData()">
                    <i class="fas fa-download"></i> ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">ì „ì²´ í˜‘ë ¥ì—…ì²´</div>
                    <div class="stat-icon suppliers">
                        <i class="fas fa-truck"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalSuppliers">0</div>
                <div class="stat-label">ë“±ë¡ëœ í˜‘ë ¥ì—…ì²´ ìˆ˜</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">ê±°ë˜ì¤‘</div>
                    <div class="stat-icon active">
                        <i class="fas fa-handshake"></i>
                    </div>
                </div>
                <div class="stat-value" id="activeSuppliers">0</div>
                <div class="stat-label">ì •ìƒ ê±°ë˜ì¤‘ì¸ ì—…ì²´</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">ê³µê¸‰ ìƒí’ˆ</div>
                    <div class="stat-icon products">
                        <i class="fas fa-boxes"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalProducts">65,183</div>
                <div class="stat-label">ì´ ê³µê¸‰ ìƒí’ˆ ìˆ˜</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">ë‚©í’ˆ ì‚¬ì—…ì¥</div>
                    <div class="stat-icon sites">
                        <i class="fas fa-building"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalSites">12</div>
                <div class="stat-label">ë‚©í’ˆì²˜ ì—°ê²° ìˆ˜</div>
            </div>
        </div>

        <!-- Data Table -->
        <div class="table-container">
            <div class="table-header">
                <div class="table-title">
                    <i class="fas fa-table"></i>
                    í˜‘ë ¥ì—…ì²´ ëª©ë¡
                </div>
                <div class="table-info">
                    ì´ <span id="tableCount">5</span>ê°œ í˜‘ë ¥ì—…ì²´
                </div>
            </div>
            
            <div class="table-scroll">
                <table class="data-table" id="suppliersTable">
                    <thead>
                        <tr>
                            <th>ëª¨ì½”ë“œ</th>
                            <th>ì—…ì²´ëª…</th>
                            <th>ì‚¬ì—…ìë²ˆí˜¸</th>
                            <th>ëŒ€í‘œì</th>
                            <th>ë³¸ì‚¬ì—°ë½ì²˜</th>
                            <th>ë‚©í’ˆì²˜</th>
                            <th>ê´€ë¦¬</th>
                        </tr>
                    </thead>
                    <tbody id="suppliersTableBody">
                        <!-- ìƒ˜í”Œ ë°ì´í„° -->
                        <tr>
                            <td><strong>CJ001</strong></td>
                            <td><strong>CJí”„ë ˆì‹œì›¨ì´</strong></td>
                            <td>
                                <span class="scale-tag scale-large">ëŒ€ê¸°ì—…</span>
                            </td>
                            <td>ê¹€ëŒ€í‘œ</td>
                            <td>123-45-67890</td>
                            <td>
                                02-1234-5678<br>
                                <small>F: 02-1234-5679</small>
                            </td>
                            <td>
                                <a href="mailto:info@cjfreshway.com">info@cjfreshway.com</a><br>
                                <small><a href="https://www.cjfreshway.com" target="_blank">í™ˆí˜ì´ì§€</a></small>
                            </td>
                            <td>
                                <strong>16,714</strong>ê°œ
                                <button class="action-btn btn-products" onclick="viewProducts(1)" title="ìƒí’ˆ ë³´ê¸°">
                                    <i class="fas fa-boxes"></i>
                                </button>
                            </td>
                            <td>
                                <button class="action-btn btn-locations" onclick="manageLocations(1)" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                                    <i class="fas fa-building"></i> 5ê°œ
                                </button>
                            </td>
                            <td>
                                <span class="status-badge status-active">ê±°ë˜ì¤‘</span>
                            </td>
                            <td>
                                <button class="action-btn btn-edit" onclick="editSupplier(1)" title="í¸ì§‘">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn btn-delete" onclick="deleteSupplier(1)" title="ì‚­ì œ">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>HG001</strong></td>
                            <td><strong>í˜„ëŒ€ê·¸ë¦°í‘¸ë“œ</strong></td>
                            <td>
                                <span class="scale-tag scale-large">ëŒ€ê¸°ì—…</span>
                            </td>
                            <td>ë°•ëŒ€í‘œ</td>
                            <td>234-56-78901</td>
                            <td>02-2345-6789</td>
                            <td>
                                <a href="mailto:info@hyundaigreenfood.co.kr">info@hyundaigreenfood.co.kr</a>
                            </td>
                            <td>
                                <strong>17,190</strong>ê°œ
                                <button class="action-btn btn-products" onclick="viewProducts(2)" title="ìƒí’ˆ ë³´ê¸°">
                                    <i class="fas fa-boxes"></i>
                                </button>
                            </td>
                            <td>
                                <button class="action-btn btn-locations" onclick="manageLocations(2)" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                                    <i class="fas fa-building"></i> 3ê°œ
                                </button>
                            </td>
                            <td>
                                <span class="status-badge status-active">ê±°ë˜ì¤‘</span>
                            </td>
                            <td>
                                <button class="action-btn btn-edit" onclick="editSupplier(2)" title="í¸ì§‘">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn btn-delete" onclick="deleteSupplier(2)" title="ì‚­ì œ">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>SJ001</strong></td>
                            <td><strong>ì‚¬ì¡°í‘¸ë””ìŠ¤íŠ¸</strong></td>
                            <td>
                                <span class="scale-tag scale-medium">ì¤‘ê²¬ê¸°ì—…</span>
                            </td>
                            <td>ì´ëŒ€í‘œ</td>
                            <td>345-67-89012</td>
                            <td>051-1234-5678</td>
                            <td>
                                <a href="mailto:info@sajofoodist.co.kr">info@sajofoodist.co.kr</a>
                            </td>
                            <td>
                                <strong>15,344</strong>ê°œ
                                <button class="action-btn btn-products" onclick="viewProducts(3)" title="ìƒí’ˆ ë³´ê¸°">
                                    <i class="fas fa-boxes"></i>
                                </button>
                            </td>
                            <td>
                                <button class="action-btn btn-locations" onclick="manageLocations(3)" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                                    <i class="fas fa-building"></i> 4ê°œ
                                </button>
                            </td>
                            <td>
                                <span class="status-badge status-active">ê±°ë˜ì¤‘</span>
                            </td>
                            <td>
                                <button class="action-btn btn-edit" onclick="editSupplier(3)" title="í¸ì§‘">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn btn-delete" onclick="deleteSupplier(3)" title="ì‚­ì œ">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>DW001</strong></td>
                            <td><strong>ë™ì›í™ˆí‘¸ë“œ</strong></td>
                            <td>
                                <span class="scale-tag scale-large">ëŒ€ê¸°ì—…</span>
                            </td>
                            <td>ìµœëŒ€í‘œ</td>
                            <td>456-78-90123</td>
                            <td>02-3456-7890</td>
                            <td>
                                <a href="mailto:info@dongwonhomefood.com">info@dongwonhomefood.com</a>
                            </td>
                            <td>
                                <strong>15,849</strong>ê°œ
                                <button class="action-btn btn-products" onclick="viewProducts(4)" title="ìƒí’ˆ ë³´ê¸°">
                                    <i class="fas fa-boxes"></i>
                                </button>
                            </td>
                            <td>
                                <button class="action-btn btn-locations" onclick="manageLocations(4)" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                                    <i class="fas fa-building"></i> 2ê°œ
                                </button>
                            </td>
                            <td>
                                <span class="status-badge status-active">ê±°ë˜ì¤‘</span>
                            </td>
                            <td>
                                <button class="action-btn btn-edit" onclick="editSupplier(4)" title="í¸ì§‘">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn btn-delete" onclick="deleteSupplier(4)" title="ì‚­ì œ">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>YT001</strong></td>
                            <td><strong>ì˜ìœ í†µ</strong></td>
                            <td>
                                <span class="scale-tag scale-small">ì¤‘ì†Œê¸°ì—…</span>
                            </td>
                            <td>ì •ëŒ€í‘œ</td>
                            <td>567-89-01234</td>
                            <td>032-4567-8901</td>
                            <td>
                                <a href="mailto:info@youngtrading.co.kr">info@youngtrading.co.kr</a>
                            </td>
                            <td>
                                <strong>91</strong>ê°œ
                                <button class="action-btn btn-products" onclick="viewProducts(5)" title="ìƒí’ˆ ë³´ê¸°">
                                    <i class="fas fa-boxes"></i>
                                </button>
                            </td>
                            <td>
                                <button class="action-btn btn-locations" onclick="manageLocations(5)" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                                    <i class="fas fa-building"></i> 1ê°œ
                                </button>
                            </td>
                            <td>
                                <span class="status-badge status-active">ê±°ë˜ì¤‘</span>
                            </td>
                            <td>
                                <button class="action-btn btn-edit" onclick="editSupplier(5)" title="í¸ì§‘">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn btn-delete" onclick="deleteSupplier(5)" title="ì‚­ì œ">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™” (ì œê±°ë¨ - í•˜ë‹¨ì˜ initializePageë¡œ í†µí•©)

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
        function initializeEventListeners() {
            // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±° ë°©ì§€ë¥¼ ìœ„í•´ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ í™•ì¸
            if (document.getElementById('searchInput').hasAttribute('data-listeners-initialized')) {
                return;
            }
            
            document.getElementById('searchInput').addEventListener('input', debounce(searchSuppliers, 300));
            
            ['scaleFilter', 'statusFilter'].forEach(id => {
                document.getElementById(id).addEventListener('change', searchSuppliers);
            });

            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchSuppliers();
                }
            });
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™” ì™„ë£Œ í‘œì‹œ
            document.getElementById('searchInput').setAttribute('data-listeners-initialized', 'true');
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // í†µê³„ ì—…ë°ì´íŠ¸ (ì œê±°ë¨ - í•˜ë‹¨ì˜ updateStats(suppliers) í•¨ìˆ˜ì™€ ì¤‘ë³µ)

        // ê²€ìƒ‰ ë° í•„í„°ë§
        async function searchSuppliers() {
            console.log('searchSuppliers í•¨ìˆ˜ í˜¸ì¶œë¨', new Date().toISOString());
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const scaleFilter = document.getElementById('scaleFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            try {
                console.log('API í˜¸ì¶œ ì‹œì‘:', '/api/admin/suppliers/enhanced');
                const response = await fetch('/api/admin/suppliers/enhanced');
                if (response.ok) {
                    const result = await response.json();
                    const suppliers = result.suppliers || result.data || [];
                    let filteredSuppliers = suppliers;

                    // ê²€ìƒ‰ì–´ í•„í„°ë§
                    if (searchTerm) {
                        filteredSuppliers = filteredSuppliers.filter(supplier => 
                            supplier.name.toLowerCase().includes(searchTerm) ||
                            supplier.business_number.includes(searchTerm) ||
                            (supplier.representative && supplier.representative.toLowerCase().includes(searchTerm))
                        );
                    }

                    // ê·œëª¨ í•„í„°ë§
                    if (scaleFilter) {
                        filteredSuppliers = filteredSuppliers.filter(supplier => 
                            supplier.company_scale === scaleFilter
                        );
                    }

                    // ìƒíƒœ í•„í„°ë§
                    if (statusFilter) {
                        const isActive = statusFilter === 'active';
                        filteredSuppliers = filteredSuppliers.filter(supplier => 
                            supplier.is_active === isActive
                        );
                    }

                    displaySuppliers(filteredSuppliers);
                    updateStats(filteredSuppliers);
                } else {
                    showError('ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ê²€ìƒ‰ ì˜¤ë¥˜:', error);
                showError('ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ìƒˆ í˜‘ë ¥ì—…ì²´ ì¶”ê°€
        function addSupplier() {
            showAddSupplierModal();
        }

        function showAddSupplierModal() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content supplier-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-plus-circle"></i> ìƒˆ í˜‘ë ¥ì—…ì²´ ì¶”ê°€</h3>
                        <button class="close-btn" onclick="closeModal(this)">&times;</button>
                    </div>
                    <form id="supplierForm" onsubmit="handleSupplierSubmit(event)">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>ëª¨ì½”ë“œ</label>
                                <input type="text" name="parent_code" maxlength="10" placeholder="ì˜ˆ: SUP001">
                                <small>í˜‘ë ¥ì—…ì²´ì—ì„œ ë¶€ì—¬í•˜ëŠ” ê³ ìœ ì½”ë“œ</small>
                            </div>
                            <div class="form-group">
                                <label>ì—…ì²´ëª… *</label>
                                <input type="text" name="name" required>
                            </div>
                            <div class="form-group">
                                <label>ì‚¬ì—…ìë²ˆí˜¸ *</label>
                                <input type="text" name="business_number" required placeholder="000-00-00000">
                            </div>
                            <div class="form-group">
                                <label>ëŒ€í‘œìëª… *</label>
                                <input type="text" name="representative" required>
                            </div>
                            <div class="form-group">
                                <label>ì—…ì¢…</label>
                                <input type="text" name="business_type">
                            </div>
                            <div class="form-group">
                                <label>ì¢…ëª©</label>
                                <input type="text" name="business_item">
                            </div>
                            <div class="form-group">
                                <label>ë³¸ì‚¬ì „í™”</label>
                                <input type="text" name="headquarters_phone">
                            </div>
                            <div class="form-group full-width">
                                <label>ë³¸ì‚¬ì£¼ì†Œ</label>
                                <input type="text" name="headquarters_address">
                            </div>
                            <div class="form-group">
                                <label>ì´ë©”ì¼</label>
                                <input type="email" name="email">
                            </div>
                            <div class="form-group">
                                <label>í™ˆí˜ì´ì§€</label>
                                <input type="url" name="website">
                            </div>
                            <div class="form-group">
                                <label>íšŒì‚¬ê·œëª¨</label>
                                <select name="company_scale">
                                    <option value="">ì„ íƒ</option>
                                    <option value="ëŒ€ê¸°ì—…">ëŒ€ê¸°ì—…</option>
                                    <option value="ì¤‘ì†Œê¸°ì—…">ì¤‘ì†Œê¸°ì—…</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label>ë¹„ê³ </label>
                                <textarea name="notes" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" onclick="closeModal(this)" class="btn btn-cancel">ì·¨ì†Œ</button>
                            <button type="submit" class="btn btn-primary">ì¶”ê°€</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // í˜‘ë ¥ì—…ì²´ í¸ì§‘
        async function editSupplier(id) {
            try {
                const response = await fetch(`/api/admin/suppliers/${id}/detail`);
                if (response.ok) {
                    const result = await response.json();
                    const supplier = result.supplier || result;
                    showEditSupplierModal(supplier);
                } else {
                    showError('í˜‘ë ¥ì—…ì²´ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('í˜‘ë ¥ì—…ì²´ ì •ë³´ ë¡œë“œ ì˜¤ë¥˜:', error);
                showError('í˜‘ë ¥ì—…ì²´ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        function showEditSupplierModal(supplier) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content supplier-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-edit"></i> í˜‘ë ¥ì—…ì²´ ìˆ˜ì •</h3>
                        <button class="close-btn" onclick="closeModal(this)">&times;</button>
                    </div>
                    <form id="supplierEditForm" onsubmit="handleSupplierEdit(event, ${supplier.id})">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>ëª¨ì½”ë“œ</label>
                                <input type="text" name="parent_code" value="${supplier.parent_code || ''}" maxlength="10" placeholder="ì˜ˆ: SUP001">
                                <small>í˜‘ë ¥ì—…ì²´ì—ì„œ ë¶€ì—¬í•˜ëŠ” ê³ ìœ ì½”ë“œ</small>
                            </div>
                            <div class="form-group">
                                <label>ì—…ì²´ëª… *</label>
                                <input type="text" name="name" value="${supplier.name || ''}" required>
                            </div>
                            <div class="form-group">
                                <label>ì‚¬ì—…ìë²ˆí˜¸ *</label>
                                <input type="text" name="business_number" value="${supplier.business_number || ''}" required>
                            </div>
                            <div class="form-group">
                                <label>ëŒ€í‘œìëª… *</label>
                                <input type="text" name="representative" value="${supplier.representative || ''}" required>
                            </div>
                            <div class="form-group">
                                <label>ì—…ì¢…</label>
                                <input type="text" name="business_type" value="${supplier.business_type || ''}">
                            </div>
                            <div class="form-group">
                                <label>ì¢…ëª©</label>
                                <input type="text" name="business_item" value="${supplier.business_item || ''}">
                            </div>
                            <div class="form-group">
                                <label>ë³¸ì‚¬ì „í™”</label>
                                <input type="text" name="headquarters_phone" value="${supplier.headquarters_phone || ''}">
                            </div>
                            <div class="form-group full-width">
                                <label>ë³¸ì‚¬ì£¼ì†Œ</label>
                                <input type="text" name="headquarters_address" value="${supplier.headquarters_address || ''}">
                            </div>
                            <div class="form-group">
                                <label>ì´ë©”ì¼</label>
                                <input type="email" name="email" value="${supplier.email || ''}">
                            </div>
                            <div class="form-group">
                                <label>í™ˆí˜ì´ì§€</label>
                                <input type="url" name="website" value="${supplier.website || ''}">
                            </div>
                            <div class="form-group">
                                <label>íšŒì‚¬ê·œëª¨</label>
                                <select name="company_scale">
                                    <option value="">ì„ íƒ</option>
                                    <option value="ëŒ€ê¸°ì—…" ${supplier.company_scale === 'ëŒ€ê¸°ì—…' ? 'selected' : ''}>ëŒ€ê¸°ì—…</option>
                                    <option value="ì¤‘ì†Œê¸°ì—…" ${supplier.company_scale === 'ì¤‘ì†Œê¸°ì—…' ? 'selected' : ''}>ì¤‘ì†Œê¸°ì—…</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ê±°ë˜ìƒíƒœ</label>
                                <select name="is_active">
                                    <option value="true" ${supplier.is_active ? 'selected' : ''}>í™œì„±</option>
                                    <option value="false" ${!supplier.is_active ? 'selected' : ''}>ë¹„í™œì„±</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label>ë¹„ê³ </label>
                                <textarea name="notes" rows="3">${supplier.notes || ''}</textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" onclick="closeModal(this)" class="btn btn-cancel">ì·¨ì†Œ</button>
                            <button type="submit" class="btn btn-primary">ìˆ˜ì •</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(modal);
        }

        async function handleSupplierEdit(event, supplierId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const supplierData = Object.fromEntries(formData.entries());
            
            // is_activeë¥¼ booleanìœ¼ë¡œ ë³€í™˜
            supplierData.is_active = supplierData.is_active === 'true';

            try {
                const response = await fetch(`/api/admin/suppliers/${supplierId}/update`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(supplierData)
                });

                if (response.ok) {
                    showSuccess('í˜‘ë ¥ì—…ì²´ ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    closeModal(event.target);
                    await loadSuppliers(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                } else {
                    const error = await response.json();
                    showError(error.detail || 'í˜‘ë ¥ì—…ì²´ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('í˜‘ë ¥ì—…ì²´ ìˆ˜ì • ì˜¤ë¥˜:', error);
                showError('í˜‘ë ¥ì—…ì²´ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // í˜‘ë ¥ì—…ì²´ ì‚­ì œ
        async function deleteSupplier(id) {
            const confirmed = confirm('ì •ë§ë¡œ ì´ í˜‘ë ¥ì—…ì²´ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nâš ï¸ ì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            
            if (!confirmed) return;

            try {
                const response = await fetch(`/api/admin/suppliers/${id}/delete`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    showSuccess('í˜‘ë ¥ì—…ì²´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                    await loadSuppliers(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                } else {
                    const error = await response.json();
                    showError(error.detail || 'í˜‘ë ¥ì—…ì²´ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('í˜‘ë ¥ì—…ì²´ ì‚­ì œ ì˜¤ë¥˜:', error);
                showError('í˜‘ë ¥ì—…ì²´ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ë‚©í’ˆì²˜ ê´€ë¦¬
        async function manageLocations(id) {
            try {
                // í˜‘ë ¥ì—…ì²´ ì •ë³´ì™€ ì‚¬ì—…ì¥ ëª©ë¡ì„ ë™ì‹œì— ê°€ì ¸ì˜¤ê¸°
                const [supplierResponse, locationsResponse] = await Promise.all([
                    fetch(`/api/admin/suppliers/${id}/detail`),
                    fetch('/api/admin/sites')
                ]);

                if (supplierResponse.ok && locationsResponse.ok) {
                    const supplierResult = await supplierResponse.json();
                    const locationsResult = await locationsResponse.json();
                    const supplier = supplierResult.supplier || supplierResult;
                    const locations = locationsResult.sites || locationsResult.data || [];
                    showLocationManagementModal(supplier, locations);
                } else {
                    showError('ë‚©í’ˆì²˜ ê´€ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ë‚©í’ˆì²˜ ê´€ë¦¬ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                showError('ë‚©í’ˆì²˜ ê´€ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        function showLocationManagementModal(supplier, locations) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content location-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-map-marker-alt"></i> ${supplier.name} - ë‚©í’ˆì²˜ ê´€ë¦¬</h3>
                        <button class="close-btn" onclick="closeModal(this)">&times;</button>
                    </div>
                    <div class="location-management">
                        <div class="location-tabs">
                            <button class="tab-btn active" onclick="switchLocationTab(event, 'current')">í˜„ì¬ ë‚©í’ˆì²˜</button>
                            <button class="tab-btn" onclick="switchLocationTab(event, 'available')">ì¶”ê°€ ê°€ëŠ¥í•œ ì‚¬ì—…ì¥</button>
                        </div>
                        
                        <div id="current-locations" class="tab-content active">
                            <div class="current-locations-list">
                                <h4>í˜„ì¬ ì—°ê²°ëœ ë‚©í’ˆì²˜</h4>
                                <div class="locations-grid" id="currentLocationsList">
                                    <div class="loading">ë‚©í’ˆì²˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="available-locations" class="tab-content">
                            <div class="available-locations-list">
                                <h4>ì¶”ê°€ ê°€ëŠ¥í•œ ì‚¬ì—…ì¥</h4>
                                <div class="search-box">
                                    <input type="text" id="locationSearch" placeholder="ì‚¬ì—…ì¥ ê²€ìƒ‰..." onkeyup="filterLocations()">
                                </div>
                                <div class="locations-grid" id="availableLocationsList">
                                    ${locations.map(location => `
                                        <div class="location-card" data-location-id="${location.id}">
                                            <div class="location-info">
                                                <h5>${location.site_name}</h5>
                                                <p><strong>ì½”ë“œ:</strong> ${location.site_code}</p>
                                                <p><strong>ìœ í˜•:</strong> ${location.site_type || '-'}</p>
                                                <p><strong>ì§€ì—­:</strong> ${location.region || '-'}</p>
                                            </div>
                                            <button class="btn btn-sm btn-primary" onclick="addSupplierLocation(${supplier.id}, ${location.id})">
                                                <i class="fas fa-plus"></i> ì¶”ê°€
                                            </button>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" onclick="closeModal(this)" class="btn btn-cancel">ë‹«ê¸°</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // í˜„ì¬ ë‚©í’ˆì²˜ ë¡œë“œ
            loadCurrentSupplierLocations(supplier.id);
        }

        async function loadCurrentSupplierLocations(supplierId) {
            try {
                // ì„ì‹œë¡œ ë¹ˆ ë°°ì—´ í‘œì‹œ (ì‹¤ì œë¡œëŠ” APIì—ì„œ í˜„ì¬ ë§¤í•‘ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼ í•¨)
                const container = document.getElementById('currentLocationsList');
                container.innerHTML = '<div class="no-data">í˜„ì¬ ì—°ê²°ëœ ë‚©í’ˆì²˜ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            } catch (error) {
                console.error('í˜„ì¬ ë‚©í’ˆì²˜ ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        function switchLocationTab(event, tabName) {
            // íƒ­ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // íƒ­ ì½˜í…ì¸  í™œì„±í™”
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tabName + '-locations').classList.add('active');
        }

        function filterLocations() {
            const searchTerm = document.getElementById('locationSearch').value.toLowerCase();
            const locationCards = document.querySelectorAll('#availableLocationsList .location-card');
            
            locationCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        }

        async function addSupplierLocation(supplierId, locationId) {
            try {
                // ì‹¤ì œë¡œëŠ” supplier-site mapping APIë¥¼ í˜¸ì¶œí•´ì•¼ í•¨
                showSuccess('ë‚©í’ˆì²˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                // í˜„ì¬ ë‚©í’ˆì²˜ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                await loadCurrentSupplierLocations(supplierId);
            } catch (error) {
                console.error('ë‚©í’ˆì²˜ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showError('ë‚©í’ˆì²˜ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ìƒí’ˆ ë³´ê¸°
        async function viewProducts(id) {
            try {
                // í˜‘ë ¥ì—…ì²´ ì •ë³´ì™€ ìƒí’ˆ ëª©ë¡ì„ ê°€ì ¸ì˜¤ê¸°
                const [supplierResponse, productsResponse] = await Promise.all([
                    fetch(`/api/admin/suppliers/${id}/detail`),
                    fetch(`/api/admin/ingredients`) // ì „ì²´ ì‹ìì¬ ëª©ë¡
                ]);

                if (supplierResponse.ok && productsResponse.ok) {
                    const supplierResult = await supplierResponse.json();
                    const ingredientsResult = await productsResponse.json();
                    const supplier = supplierResult.supplier || supplierResult;
                    const allIngredients = ingredientsResult.ingredients || ingredientsResult.data || [];
                    showProductManagementModal(supplier, allIngredients);
                } else {
                    showError('ìƒí’ˆ ê´€ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ìƒí’ˆ ê´€ë¦¬ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                showError('ìƒí’ˆ ê´€ë¦¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        function showProductManagementModal(supplier, allIngredients) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content product-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-box"></i> ${supplier.name} - ìƒí’ˆ ê´€ë¦¬</h3>
                        <button class="close-btn" onclick="closeModal(this)">&times;</button>
                    </div>
                    <div class="product-management">
                        <div class="product-tabs">
                            <button class="tab-btn active" onclick="switchProductTab(event, 'current')">í˜„ì¬ ê³µê¸‰ ìƒí’ˆ</button>
                            <button class="tab-btn" onclick="switchProductTab(event, 'available')">ì¶”ê°€ ê°€ëŠ¥í•œ ì‹ìì¬</button>
                        </div>
                        
                        <div id="current-products" class="tab-content active">
                            <div class="current-products-list">
                                <h4>í˜„ì¬ ê³µê¸‰ ì¤‘ì¸ ìƒí’ˆ</h4>
                                <div class="products-grid" id="currentProductsList">
                                    <div class="loading">ìƒí’ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="available-products" class="tab-content">
                            <div class="available-products-list">
                                <h4>ì¶”ê°€ ê°€ëŠ¥í•œ ì‹ìì¬</h4>
                                <div class="search-box">
                                    <input type="text" id="productSearch" placeholder="ì‹ìì¬ ê²€ìƒ‰..." onkeyup="filterProducts()">
                                </div>
                                <div class="products-grid" id="availableProductsList">
                                    ${allIngredients.slice(0, 20).map(ingredient => `
                                        <div class="product-card" data-ingredient-id="${ingredient.id}">
                                            <div class="product-info">
                                                <h5>${ingredient.name}</h5>
                                                <p><strong>ë‹¨ìœ„:</strong> ${ingredient.base_unit}</p>
                                                <p><strong>ê¸°ë³¸ê°€ê²©:</strong> ${ingredient.price ? Number(ingredient.price).toLocaleString() + 'ì›' : '-'}</p>
                                            </div>
                                            <button class="btn btn-sm btn-primary" onclick="addSupplierProduct(${supplier.id}, ${ingredient.id})">
                                                <i class="fas fa-plus"></i> ì¶”ê°€
                                            </button>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" onclick="closeModal(this)" class="btn btn-cancel">ë‹«ê¸°</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // í˜„ì¬ ìƒí’ˆ ë¡œë“œ
            loadCurrentSupplierProducts(supplier.id);
        }

        async function loadCurrentSupplierProducts(supplierId) {
            try {
                // ì„ì‹œë¡œ ë¹ˆ ë°°ì—´ í‘œì‹œ (ì‹¤ì œë¡œëŠ” SupplierIngredient APIë¥¼ í˜¸ì¶œí•´ì•¼ í•¨)
                const container = document.getElementById('currentProductsList');
                container.innerHTML = '<div class="no-data">í˜„ì¬ ê³µê¸‰ ì¤‘ì¸ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            } catch (error) {
                console.error('í˜„ì¬ ìƒí’ˆ ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        function switchProductTab(event, tabName) {
            // íƒ­ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // íƒ­ ì½˜í…ì¸  í™œì„±í™”
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tabName + '-products').classList.add('active');
        }

        function filterProducts() {
            const searchTerm = document.getElementById('productSearch').value.toLowerCase();
            const productCards = document.querySelectorAll('#availableProductsList .product-card');
            
            productCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        }

        async function addSupplierProduct(supplierId, ingredientId) {
            try {
                // ì‹¤ì œë¡œëŠ” SupplierIngredient ìƒì„± APIë¥¼ í˜¸ì¶œí•´ì•¼ í•¨
                showSuccess('ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                // í˜„ì¬ ìƒí’ˆ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                await loadCurrentSupplierProducts(supplierId);
            } catch (error) {
                console.error('ìƒí’ˆ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showError('ìƒí’ˆ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
        async function exportData() {
            try {
                const response = await fetch('/api/admin/suppliers/enhanced');
                if (response.ok) {
                    const result = await response.json();
                    const suppliers = result.suppliers || result.data || [];
                    exportToExcel(suppliers);
                } else {
                    showError('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ì—‘ì…€ ë‚´ë³´ë‚´ê¸° ì˜¤ë¥˜:', error);
                showError('ì—‘ì…€ ë‚´ë³´ë‚´ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        function exportToExcel(suppliers) {
            // CSV í˜•íƒœë¡œ ë°ì´í„° ìƒì„±
            const headers = [
                'ì—…ì²´ëª…',
                'ì‚¬ì—…ìë²ˆí˜¸',
                'ëŒ€í‘œìëª…',
                'ì—…ì¢…',
                'ì¢…ëª©',
                'ë³¸ì‚¬ì „í™”',
                'ë³¸ì‚¬ì£¼ì†Œ',
                'ì´ë©”ì¼',
                'í™ˆí˜ì´ì§€',
                'íšŒì‚¬ê·œëª¨',
                'ê±°ë˜ìƒíƒœ',
                'ë‚©í’ˆì²˜ìˆ˜',
                'ë“±ë¡ì¼'
            ];

            let csvContent = headers.join(',') + '\\n';
            
            suppliers.forEach(supplier => {
                const row = [
                    `"${supplier.name || ''}"`,
                    `"${supplier.business_number || ''}"`,
                    `"${supplier.representative || ''}"`,
                    `"${supplier.business_type || ''}"`,
                    `"${supplier.business_item || ''}"`,
                    `"${supplier.headquarters_phone || ''}"`,
                    `"${supplier.headquarters_address || ''}"`,
                    `"${supplier.email || ''}"`,
                    `"${supplier.website || ''}"`,
                    `"${supplier.company_scale || ''}"`,
                    `"${supplier.is_active ? 'í™œì„±' : 'ë¹„í™œì„±'}"`,
                    `"${supplier.site_count || 0}"`,
                    `"${supplier.created_at ? new Date(supplier.created_at).toLocaleDateString() : ''}"`
                ];
                csvContent += row.join(',') + '\\n';
            });

            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `í˜‘ë ¥ì—…ì²´_ëª©ë¡_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showSuccess('í˜‘ë ¥ì—…ì²´ ëª©ë¡ì´ CSV íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // í¼ ì œì¶œ ì²˜ë¦¬
        async function handleSupplierSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const supplierData = Object.fromEntries(formData.entries());

            try {
                const response = await fetch('/api/admin/suppliers/create', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(supplierData)
                });

                if (response.ok) {
                    showSuccess('í˜‘ë ¥ì—…ì²´ê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    closeModal(event.target);
                    await loadSuppliers(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                } else {
                    const error = await response.json();
                    showError(error.detail || 'í˜‘ë ¥ì—…ì²´ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('í˜‘ë ¥ì—…ì²´ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showError('í˜‘ë ¥ì—…ì²´ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ëª¨ë‹¬ ê´€ë¦¬
        function closeModal(element) {
            const modal = element.closest('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }

        // ì‹¤ì œ ë°ì´í„° ë¡œë“œ
        async function loadSuppliers() {
            console.log('loadSuppliers í•¨ìˆ˜ í˜¸ì¶œë¨', new Date().toISOString());
            try {
                console.log('loadSuppliers API í˜¸ì¶œ ì‹œì‘:', '/api/admin/suppliers/enhanced');
                const response = await fetch('/api/admin/suppliers/enhanced');
                if (response.ok) {
                    const data = await response.json();
                    const suppliers = data.suppliers || data; // ìƒˆ API ì‘ë‹µ í˜•ì‹ì— ë§ì¶¤
                    displaySuppliers(suppliers);
                    updateStats(suppliers);
                } else {
                    console.error('API ì‘ë‹µ ì˜¤ë¥˜:', response.status);
                    showError('í˜‘ë ¥ì—…ì²´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    displaySuppliers([]); // ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
                }
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                showError('í˜‘ë ¥ì—…ì²´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                displaySuppliers([]); // ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
            }
        }

        // ë°ì´í„° í‘œì‹œ
        function displaySuppliers(suppliers) {
            console.log('displaySuppliers í•¨ìˆ˜ í˜¸ì¶œë¨, ê³µê¸‰ì—…ì²´ ìˆ˜:', suppliers.length);
            const tableBody = document.querySelector('#suppliersTable tbody');
            if (!tableBody) return;

            if (suppliers.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="7" class="text-center">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
                return;
            }

            tableBody.innerHTML = suppliers.map(supplier => `
                <tr>
                    <td><strong>${supplier.parent_code || '-'}</strong></td>
                    <td><strong>${supplier.name}</strong></td>
                    <td>${supplier.business_number || '-'}</td>
                    <td>${supplier.representative || '-'}</td>
                    <td>${supplier.headquarters_phone || '-'}</td>
                    <td>${supplier.site_count || 0}</td>
                    <td class="actions">
                        <button onclick="editSupplier(${supplier.id})" class="action-btn edit" title="í¸ì§‘">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="manageLocations(${supplier.id})" class="action-btn locations" title="ë‚©í’ˆì²˜ ê´€ë¦¬">
                            <i class="fas fa-map-marker-alt"></i>
                        </button>
                        <button onclick="viewProducts(${supplier.id})" class="action-btn products" title="ìƒí’ˆ ê´€ë¦¬">
                            <i class="fas fa-box"></i>
                        </button>
                        <button onclick="deleteSupplier(${supplier.id})" class="action-btn delete" title="ì‚­ì œ">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats(suppliers) {
            const activeCount = suppliers.filter(s => s.is_active).length;
            const totalSites = suppliers.reduce((sum, s) => sum + (s.site_count || 0), 0);

            // ì•ˆì „í•˜ê²Œ ìš”ì†Œ ì—…ë°ì´íŠ¸
            const totalSuppliersEl = document.getElementById('totalSuppliers');
            const activeSuppliersEl = document.getElementById('activeSuppliers');
            const totalSitesEl = document.getElementById('totalSites');
            
            if (totalSuppliersEl) totalSuppliersEl.textContent = suppliers.length;
            if (activeSuppliersEl) activeSuppliersEl.textContent = activeCount;
            if (totalSitesEl) totalSitesEl.textContent = totalSites;
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function showInfo(message) {
            alert('â„¹ï¸ ' + message);
        }

        function showSuccess(message) {
            alert('âœ… ' + message);
        }

        function showError(message) {
            alert('âŒ ' + message);
        }

        // í˜ì´ì§€ ì´ˆê¸°í™” í”Œë˜ê·¸
        let isInitialized = false;
        
        // í˜ì´ì§€ ì´ˆê¸°í™”
        async function initializePage() {
            if (isInitialized) {
                console.log('í˜ì´ì§€ê°€ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
                return;
            }
            
            console.log('í˜‘ë ¥ì—…ì²´ ê´€ë¦¬ í˜ì´ì§€ ì´ˆê¸°í™” ì‹œì‘', new Date().toISOString());
            isInitialized = true;
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
            console.log('ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™” ì¤‘...');
            initializeEventListeners();
            
            // ì‹¤ì œ ë°ì´í„° ë¡œë“œ ì‹œë„
            try {
                await loadSuppliers();
            } catch (error) {
                console.error('ì´ˆê¸° ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨, ìƒ˜í”Œ ë°ì´í„° í‘œì‹œ:', error);
                // ìƒ˜í”Œ ë°ì´í„°ë¡œ í†µê³„ ì—…ë°ì´íŠ¸
                const totalSuppliersEl = document.getElementById('totalSuppliers');
                const activeSuppliersEl = document.getElementById('activeSuppliers');
                const totalSitesEl = document.getElementById('totalSites');
                
                if (totalSuppliersEl) totalSuppliersEl.textContent = '5';
                if (activeSuppliersEl) activeSuppliersEl.textContent = '5';
                if (totalSitesEl) totalSitesEl.textContent = '15';
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', initializePage);

        // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.location.href = '/login';
            }
        }
    </script>
        </div> <!-- main-container -->
        </div> <!-- main-content -->
    </div> <!-- dashboard-container -->

    <!-- ë¸Œëœë”© ì ìš© -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ë¸Œëœë”© ì‹œìŠ¤í…œ ì ìš©
            if (typeof BrandingManager !== 'undefined') {
                BrandingManager.applyBranding('ê¸‰ì‹ê´€ë¦¬');
                console.log('âœ… ë¸Œëœë”© ì‹œìŠ¤í…œ ì ìš© ì™„ë£Œ (ê¸‰ì‹ê´€ë¦¬)');
            }
        });
    </script>
</body>
</html>