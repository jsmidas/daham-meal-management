<!-- ì‚¬ì—…ì¥ ê´€ë¦¬ ì»¨í…ì¸  -->
<div class="content-header">
        <h1>ì‚¬ì—…ì¥ ê´€ë¦¬</h1>
    </div>

    <!-- ì‚¬ì—…ì¥ í†µê³„ ì¹´ë“œ -->
    <div style="display: flex !important; gap: 20px !important; margin-bottom: 20px !important;">
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; display: flex; align-items: center; gap: 15px; flex: 1; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="font-size: 32px; opacity: 0.8;">ğŸ¢</div>
            <div style="flex: 1;">
                <div style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 4px;" id="totalSites">0</div>
                <div style="font-size: 12px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">ì „ì²´ ì‚¬ì—…ì¥</div>
            </div>
        </div>
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; display: flex; align-items: center; gap: 15px; flex: 1; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="font-size: 32px; opacity: 0.8;">âœ…</div>
            <div style="flex: 1;">
                <div style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 4px;" id="activeSites">0</div>
                <div style="font-size: 12px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">í™œì„± ì‚¬ì—…ì¥</div>
            </div>
        </div>
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; display: flex; align-items: center; gap: 15px; flex: 1; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="font-size: 32px; opacity: 0.8;">ğŸ“</div>
            <div style="flex: 1;">
                <div style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 4px;" id="regionCount">0</div>
                <div style="font-size: 12px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">ìš´ì˜ ì§€ì—­</div>
            </div>
        </div>
    </div>

    <!-- ìƒˆ ì‚¬ì—…ì¥ ì¶”ê°€ ë²„íŠ¼ -->
    <div style="margin: 20px 0; text-align: right;">
        <button class="btn btn-primary" onclick="showAddSiteModal()">
            <span>+ ìƒˆ ì‚¬ì—…ì¥ ì¶”ê°€</span>
        </button>
    </div>

    <!-- ì‚¬ì—…ì¥ ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” -->
    <div class="table-container" style="margin-top: 30px;">
        <table class="data-table">
            <thead>
                <tr>
                    <th>ì½”ë“œ</th>
                    <th>ì‚¬ì—…ì¥ëª…</th>
                    <th>ìœ í˜•</th>
                    <th>ì§€ì—­</th>
                    <th>ë‹´ë‹¹ì</th>
                    <th>ì—°ë½ì²˜</th>
                    <th>ìƒíƒœ</th>
                    <th>ì‘ì—…</th>
                </tr>
            </thead>
            <tbody id="sitesTableBody">
                <tr>
                    <td colspan="8" class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ì‚¬ì—…ì¥ ìˆ˜ì • ëª¨ë‹¬ -->
    <style>
        /* ì»´íŒ©íŠ¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        #siteEditModal .modal-content,
        #siteAddModal .modal-content {
            max-height: 70vh !important;
            margin: 3% auto !important;
            width: 450px !important;
        }
        #siteEditModal .modal-header,
        #siteAddModal .modal-header {
            padding: 6px 10px !important;
        }
        #siteEditModal .modal-header h2,
        #siteAddModal .modal-header h2 {
            font-size: 15px !important;
        }
        #siteEditModal .modal-body,
        #siteAddModal .modal-body {
            padding: 8px 10px !important;
            max-height: calc(70vh - 80px) !important;
            overflow-y: auto !important;
        }
        #siteEditModal .modal-footer,
        #siteAddModal .modal-footer {
            padding: 6px 10px !important;
        }
        #siteEditModal .form-group,
        #siteAddModal .form-group {
            margin-bottom: 4px !important;
        }
        #siteEditModal .form-group label,
        #siteAddModal .form-group label {
            margin-bottom: 1px !important;
            font-size: 11px !important;
        }
        #siteEditModal .form-control,
        #siteAddModal .form-control {
            padding: 3px 6px !important;
            font-size: 11px !important;
            height: 24px !important;
        }
        #siteEditModal .btn,
        #siteAddModal .btn {
            padding: 4px 10px !important;
            font-size: 12px !important;
        }
        #siteEditModal .close,
        #siteAddModal .close {
            font-size: 18px !important;
            line-height: 14px !important;
        }
    </style>
    <div id="siteEditModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="siteModalTitle">ì‚¬ì—…ì¥ ìˆ˜ì •</h2>
                <span class="close" onclick="closeSiteModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="siteEditForm">
                    <input type="hidden" id="editSiteId">

                    <div class="form-group">
                        <label for="editSiteCode">ì‚¬ì—…ì¥ ì½”ë“œ:</label>
                        <input type="text" id="editSiteCode" class="form-control" readonly style="background-color: #e9ecef;">
                    </div>

                    <div class="form-group">
                        <label for="editSiteName">ì‚¬ì—…ì¥ëª…:</label>
                        <input type="text" id="editSiteName" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="editSiteType">ì‚¬ì—…ì¥ ìœ í˜•:</label>
                        <select id="editSiteType" class="form-control">
                            <option value="ê¸‰ì‹ì—…ì²´">ê¸‰ì‹ì—…ì²´</option>
                            <option value="ë„ì‹œë½ì—…ì²´">ë„ì‹œë½ì—…ì²´</option>
                            <option value="ìš´ì†¡ì—…ì²´">ìš´ì†¡ì—…ì²´</option>
                            <option value="ì˜ë£Œì—…ì²´">ì˜ë£Œì—…ì²´</option>
                            <option value="êµìœ¡ê¸°ê´€">êµìœ¡ê¸°ê´€</option>
                            <option value="ìš”ì–‘ì‹œì„¤">ìš”ì–‘ì‹œì„¤</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="editSiteRegion">ì§€ì—­:</label>
                        <input type="text" id="editSiteRegion" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="editSiteManager">ë‹´ë‹¹ì:</label>
                        <input type="text" id="editSiteManager" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="editSitePhone">ì—°ë½ì²˜:</label>
                        <input type="text" id="editSitePhone" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="editSiteStatus">ìƒíƒœ:</label>
                        <select id="editSiteStatus" class="form-control">
                            <option value="true">í™œì„±</option>
                            <option value="false">ë¹„í™œì„±</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeSiteModal()">ì·¨ì†Œ</button>
                <button type="button" class="btn btn-primary" onclick="saveSiteChanges()">ì €ì¥</button>
            </div>
        </div>
    </div>

    <!-- ìƒˆ ì‚¬ì—…ì¥ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="siteAddModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ìƒˆ ì‚¬ì—…ì¥ ì¶”ê°€</h2>
                <span class="close" onclick="closeAddSiteModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="siteAddForm">
                    <div class="form-group">
                        <label for="newSiteCode">ì‚¬ì—…ì¥ ì½”ë“œ: <span style="color: #6c757d; font-size: 12px;">ìë™ìƒì„±</span></label>
                        <input type="text" id="newSiteCode" class="form-control" readonly style="background-color: #e9ecef;" placeholder="ìë™ ìƒì„±ë©ë‹ˆë‹¤">
                    </div>

                    <div class="form-group">
                        <label for="newSiteName">ì‚¬ì—…ì¥ëª…:</label>
                        <input type="text" id="newSiteName" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="newSiteType">ì‚¬ì—…ì¥ ìœ í˜•:</label>
                        <select id="newSiteType" class="form-control">
                            <option value="ê¸‰ì‹ì—…ì²´">ê¸‰ì‹ì—…ì²´</option>
                            <option value="ë„ì‹œë½ì—…ì²´">ë„ì‹œë½ì—…ì²´</option>
                            <option value="ìš´ì†¡ì—…ì²´">ìš´ì†¡ì—…ì²´</option>
                            <option value="ì˜ë£Œì—…ì²´">ì˜ë£Œì—…ì²´</option>
                            <option value="êµìœ¡ê¸°ê´€">êµìœ¡ê¸°ê´€</option>
                            <option value="ìš”ì–‘ì‹œì„¤">ìš”ì–‘ì‹œì„¤</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="newSiteRegion">ì§€ì—­:</label>
                        <input type="text" id="newSiteRegion" class="form-control" value="ì„œìš¸">
                    </div>

                    <div class="form-group">
                        <label for="newSiteManager">ë‹´ë‹¹ì:</label>
                        <input type="text" id="newSiteManager" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="newSitePhone">ì—°ë½ì²˜:</label>
                        <input type="text" id="newSitePhone" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeAddSiteModal()">ì·¨ì†Œ</button>
                <button type="button" class="btn btn-primary" onclick="addNewSite()">ì¶”ê°€</button>
            </div>
        </div>
    </div>