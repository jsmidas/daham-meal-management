# 📋 BOKSILI 시스템 분석 결과 보고서

## 🎯 분석 개요

**BOKSILI**는 "위탁급식, 식자재 발주관리 전산시스템"으로, 다음과 같은 종합적인 급식 관리 솔루션입니다.

- **서버 환경**: Apache 2.4.6 (CentOS), PHP 7.4.33, CodeIgniter Framework
- **주요 기능**: 공급업체 관리, 식단표 작성, 자동 발주 시스템
- **서버 위치**: 211.233.63.131 (bok2.boksili.kr)

---

## 📈 샘플 데이터 분석 결과

### 1. 공급업체 관리 시스템

#### 📦 확인된 공급업체 (6개)
- **사조푸디스트**: 15,344개 식자재 (8월 하반기 단가표)
- **동원홈푸드**: 15,849 + 64개 식자재 (8월 16-31일 단가표)
- **영유통**: 91개 식자재 (8월 18~24일)
- **현대그린푸드**: 17,190개 식자재 (8월 2차 수견적서)
- **CJ**: 16,714개 식자재 (8월 하순 단가표)
- **Sample**: 템플릿 파일

#### 📊 데이터 구조 특징
```
표준 컬럼 구조:
- 분류(대분류) / 기본식자재(세분류)
- 고유코드 / 식자재명
- 원산지 / 게시유무 / 단위 / 면세
- 선발주일 / 입고가 / 판매가
- 거래처명 / 비고
```

### 2. 주간 식단표 시스템

#### 📅 식단표 구조
- **계획 단위**: 주간 (월~일 7일)
- **카테고리**: 도시락, 요양원, 학교, 운반
- **구조**: 요일별 × 식사별 매트릭스
- **샘플 기간**: 2025-07-28 ~ 2025-08-10 (도시락)

#### 🍽️ 메뉴 패턴 분석
- **중식A/중식B**: 별도 메뉴 구성
- **메뉴명 패턴**: "자)된장찌개-중식", "중)갈비찜-중식" 형태
- **발견된 메뉴**: 총 75개 고유 메뉴 (34개 + 41개)

---

## 🏗️ 예측된 BOKSILI 시스템 구조

### 주요 모듈

#### 1. 🏢 공급업체 관리 (Supplier Management)
- 공급업체별 식자재 단가표 관리
- 주기적 단가 업데이트 (주간/월간)
- 공급업체별 고유한 코드 체계
- 원산지, 규격, 단위 정보 통합 관리

#### 2. 📋 식단표 관리 (Meal Planning)  
- 주간 단위 식단표 작성 시스템
- 카테고리별 식단 관리
- 요일별 × 식사별 메뉴 배치
- 메뉴별 레시피 정보 연결

#### 3. 📦 발주 시스템 (Ordering System)
- 식단표 기반 자동 발주량 계산
- 공급업체별 발주서 자동 생성
- 발주 승인 워크플로우
- 협력업체 발주시스템 (OOS) 연동

### 사용자 역할

| 역할 | 주요 업무 | 권한 |
|------|-----------|------|
| **영양사** | 식단표 작성, 메뉴 관리 | 식단표 작성, 영양정보 관리 |
| **구매담당자** | 발주 관리, 공급업체 관리 | 발주서 생성, 단가표 업데이트 |
| **관리자** | 시스템 관리, 사용자 관리 | 전체 권한 |
| **협력업체** | 발주서 확인, 납품 관리 | 발주서 조회, 납품현황 업데이트 |

---

## 🗄️ 제안 데이터베이스 설계

### 핵심 테이블

```sql
-- 공급업체 관리
suppliers (공급업체 마스터)
ingredients (식자재 마스터 - 공급업체별)
ingredient_prices (가격 이력 - 시계열)

-- 식단표 관리  
weekly_meal_plans (주간 식단표)
meal_plan_details (식단 상세 - 요일×식사)

-- 발주 관리
purchase_orders (발주서)
purchase_order_items (발주 상세)
```

### 데이터 플로우

```
Excel 업로드 → 파싱 → DB 저장
     ↓
식단표 작성 → 발주량 계산 → 발주서 생성
     ↓
협력업체 API → 발주확인 → 납품관리
```

---

## 🔌 제안 API 구조

### RESTful API 설계 (CodeIgniter 기반)

#### 공급업체 관리
```
GET  /api/suppliers              # 공급업체 목록
POST /api/suppliers/upload       # 단가표 업로드 (Excel)
GET  /api/ingredients/search     # 식자재 검색
```

#### 식단표 관리
```
GET  /api/meal-plans             # 주간 식단표 목록
POST /api/meal-plans             # 새 식단표 생성
GET  /api/meal-plans/{id}/cost   # 식단표 비용 계산
```

#### 발주 관리
```
POST /api/orders/generate        # 발주서 자동 생성
GET  /api/orders/{id}/export     # 발주서 PDF/Excel 내보내기
```

#### 협력업체 연동 (OOS)
```
GET  /oos/orders                 # 협력업체용 발주서 조회
POST /oos/orders/{id}/confirm    # 발주서 확인
```

---

## 📊 시스템 규모 및 성능

### 데이터 규모
- **총 식자재**: 65,257개
- **공급업체**: 6개 (확장 가능)
- **식단 카테고리**: 4개 (도시락, 요양원, 학교, 운반)
- **계획 단위**: 주간 (7일)

### 핵심 성능 요구사항
1. **Excel 대량 데이터 처리**: 15,000+ 행 처리 능력
2. **실시간 가격 계산**: 식단표 기반 즉시 비용 산출
3. **동시 사용자 지원**: 영양사, 구매담당자, 협력업체 동시 접근
4. **데이터 동기화**: 공급업체별 정기 가격 업데이트

---

## 🚀 구현 우선순위

### Phase 1: 핵심 기능 (4주)
1. ✅ 식단표 작성 인터페이스 (완료)
2. 🔄 Excel 업로드 및 파싱 시스템
3. 📊 발주량 자동 계산 엔진
4. 💾 데이터베이스 스키마 구축

### Phase 2: 고도화 (6주)
1. 협력업체 API (OOS) 연동
2. 권한별 사용자 인터페이스
3. 리포트 및 분석 기능
4. 모바일 대응

### Phase 3: 최적화 (4주)
1. 성능 최적화
2. 백업 및 보안 강화
3. 모니터링 시스템
4. 사용자 교육

---

## 🎯 결론 및 제안

### 핵심 발견사항
1. **BOKSILI**는 급식업계 특화 ERP 시스템
2. **Excel 기반** 데이터 처리가 핵심
3. **주간 단위** 식단표 중심의 워크플로우
4. **공급업체 연동**이 시스템의 핵심 가치

### 즉시 실행 가능한 작업
1. 🟢 **현재 구현된 식단표 시스템 활용**
2. 🟡 **Excel 파싱 엔진 개발**
3. 🟡 **발주량 계산 알고리즘 구현**
4. 🔴 **협력업체 API 연동 준비**

### 최종 권장사항
현재 구축한 **주간 식단표 시스템**을 기반으로, BOKSILI의 **공급업체 연동** 및 **발주 자동화** 기능을 단계적으로 추가하여 완전한 급식 관리 시스템을 구축할 것을 제안합니다.

---

*📅 분석 완료일: 2025-08-28*  
*🔍 분석 범위: 샘플 데이터 6개 공급업체, 2주간 식단표*  
*💾 총 분석 데이터: 65,257개 식자재, 75개 메뉴*